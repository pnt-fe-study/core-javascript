
## 데이터 타입

**데이터 타입의 종류**
- 기본형: Number, String, Boolean, null, undefined, Symbol (불변값)
- 참조형: object, Array, Function, Date, RegExp, Map, WeakMap, Set, WeakSet

**기본형과 참조형을 구분하는 방법**
- 기본형: 값이 담긴 주솟값을 바로 복제
- 참조형: 값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제

**변수 선언과 데이터 할당**
> 변수란, 변경 가능한 데이터가 담길 수 있는 공간 또는 그릇
```ts
var a; // 변수 a 선언
a = 'abc'; // 변수 a에 데이터 할당

var a = 'abc'; //변수 선언과 할당을 한 문장으로 표현
```

 **데이터 할당에 대한 메모리 영역의 변화**

  | **주소(변수)**   | ...  | 1002 | 1003 | 1004 | 1005 | ...  |
  |-----------|------|------|------|------|------|------|
  | **데이터(변수)** |      | | 이름: a  값: @5004 |      |      |     
  | **주소(데이터)**   | ...  | 5002 | 5003 | 5004 | 5005 | ...  |
  | **데이터(데이터)** |      |      |      | 'abc' |      |      |
- 데이터 변환을 자유롭게 할 수 있게 함과 동시에 메모리를 더 효율적으로 관리하기 위해 변수영역에 직접 값을 대입하지 않고 한단계를 더 거침

**기본형 데이터와 참조형 데이터**
- 불변값과 상수를 같은 개념으로 오해하기 쉬운데 이 둘을 명확히 구분할 필요가 있다.
- 변수와 상수를 구분 짓는 변경 가능성의 대상은 변수영역 메모리 -> 한번 데이터 할당이 이뤄진 변수 공간에 다른 데이터 재할당 가능한지
- 불변성 여부를 구분 짓는 변경 가능성의 대상은 데이터 영역의 메모리
```ts
// 기본형 데이터의 불변성 개념 
var a = 'abc';
a = a + 'def';
// 'abc'와 'abcdef'는 완전 별개의 데이터

var b = 5; // 변수 b에 5를 할당할 때 컴퓨터는 데이터 영역에서 5 찾고 없으면 데이터 공간 하나 만들어서 저장함
var c = 5; // 데이터 영역에서 5 찾다가 방금 만든 값이 있으니 그 주소를 재활용함
b = 7; // 기존에 저장된 5를 7로 변경하는게 아니라 새로 7을 만들어서 저장함
```
- 변수 a에 'abc'를 할당했다가 뒤에 'def'를 추가하면 'abc'가 'abcdef'로 바뀌는것이 아니라 새로운 문자열 'abcdef'를 만들어 그 주소를 변수 a 에 저장한다.
- 변경은 새로 만드는 동작을 통해서만 이뤄진다. 이것이 바로 불변값의 성질
- 한 번 만들어진 값은 가비지 컬렉팅을 당하지 않는 한 영원히 변하지 않는다.

```ts
// 함수형 데이터의 할당
var obj1 = {
  a: 1;
  b: 'bbb';
}
```
  | **주소(변수)**   | 1001 | 1002 | 1003 | 1004 | ...  |
  |-----------|------|------|------|------|------|
  | **데이터(변수)** | | 이름: obj1  값: @5001 |      |      |     
  | **주소(데이터)**   | 5001 | 5002 | 5003 | 5004 | ...  |
  | **데이터(데이터)** |   @7103 ~ ?   |      | 1 |   'bbb'   |      |

| **주소(객체@5001의 변수영역)**  | 7103 | 7104 | 7105 | 7106 |
| --- | --- | --- |---|---|
| **데이터(객체@5001의 변수영역)**  | 이름: a 값: @5003 | 이름: b 값: @5004 |
- 기본형 데이터와의 차이는 객체의 변수(프로퍼티)영역이 별도로 존재한다는 점
- 객체가 별도로 할애한 영역은 변수 영역일 뿐 데이터영역은 기존의 메모리공간을 그대로 활용
- 데이터 영역에 저장된 값은 불변값이나, 변수에는 다른 값을 대입할 수 있다.

```ts
// 함수형 데이터의 프로퍼티 재할당
var obj1 = {
  a: 1;
  b: 'bbb';
}
obj1.a = 2;
```
  | **주소(변수)**   | 1001 | 1002(변하지않음) | 1003 | 1004 | ...  |
  |-----------|------|------|------|------|------|
  | **데이터(변수)** | | 이름: obj1  값: @5001 |      |      |     
  | **주소(데이터)**   | 5001 | 5002 | 5003 | 5004 | 5005  |
  | **데이터(데이터)** |   @7103 ~ ?   |      | 1 |   'bbb'   |   2   |

| **주소(객체@5001의 변수영역)**  | 7103 | 7104 | 7105 | 7106 |
| --- | --- | --- |---|---|
| **데이터(객체@5001의 변수영역)**  | 이름: a 값: @5005(변함) | 이름: b 값: @5004 |
- 새로운 객체가 만들어진것이 아니라 기존의 객체 내부의 값만 바뀐 것

**변수 복사 비교**
```ts
// 변수 복사 이후 값 변경 결과 비교
var a = 10;
var b = a;
var obj1 = { c: 10, b: 'ddd' };
var obj2 = obj1;

b = 15;
obj2.c = 20;
```
<img width="366" alt="스크린샷 2025-03-31 오후 4 20 42" src="https://github.com/user-attachments/assets/5e612b22-f1eb-4cd6-ac70-c56035eb1f31" />

- 변수 a와 b는 서로 다른 주소를 바라보게 됐으나, 변수 obj1과 obj2는 같은 객체를 바라보고 있다.
- 기본형은 주솟값을 복사하는 과정이 한번만 이뤄지고, 참조형은 한 단계를 더 거치게 된다는 차이가 있다.
- 참조형 데이터가 '가변값'이라고 설명할 때의 '가변'은 참조형 데이터 자체를 변경할 경우가 아니라 그 내부의 프로퍼티를 변경할 때만 성립한다.
